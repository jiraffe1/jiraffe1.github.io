var sea,nodesNum,SETTINGS={DEBUG:!0,GRAVITY:.6,REPELSTRENGTH:.95,NODERANGE:90};function setup(){createCanvas(800,600),sea=new Array,nodesNum=45;for(var t=0;t<nodesNum;t++)sea.push(new node(random(0,width),random(height/2,height)))}function draw(){background(240);for(var t=0;t<sea.length;t++){sea[t].update()}fill(0),stroke(0),strokeWeight(1),textSize(24),text(floor(frameRate()),20,20)}class node{constructor(t,e){this.x=t,this.y=e,this.vel=createVector(0,0),this.tris=0}update(){this.tris=0,this.vel.y+=SETTINGS.GRAVITY;for(var t=0;t<sea.length;t++){var e=sea[t];e!=this&&dist(this.x,this.y,e.x,e.y)<SETTINGS.NODERANGE&&this.repelNode(e)}SETTINGS.DEBUG&&this.display(),(this.x<SETTINGS.NODERANGE/2||this.x>width-SETTINGS.NODERANGE/2)&&(this.vel.x*=-1),(this.y<SETTINGS.NODERANGE/2||this.y>height-SETTINGS.NODERANGE/2)&&(this.vel.y*=-1),this.x+=this.vel.x,this.y+=this.vel.y}repelNode(t){this.vel.sub(createVector(this.x,this.y).sub(createVector(t.x,t.y)).setMag(SETTINGS.REPELSTRENGTH).mult(-1)),this.vel.mult(SETTINGS.REPELSTRENGTH)}display(){strokeWeight(2),fill(0,150,255),stroke(0,150,255),strokeWeight(2),ellipse(this.x,this.y,SETTINGS.NODERANGE+20,SETTINGS.NODERANGE+20)}}