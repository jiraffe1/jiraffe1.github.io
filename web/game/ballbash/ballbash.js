let player_pos,player_vel,ballsx,ballsy,balltypes,score=0;function setup(){createCanvas(500,500),player_pos=new p5.Vector(0,0),player_vel=new p5.Vector(10,-10),ballsx=new Array(1e3),ballsy=new Array(1e3),balltypes=new Array(1e3),score=0,generate_balls(),createP("Swipe to move"),createP("Green ball - 1 point"),createP("Red ball - die"),createP("Yellow ball - 10 points"),createP("Purple ball - 5 points"),createA("https://jiraffe1.github.io/web/game.html","back")}function draw_player(){stroke(255),strokeWeight(2),fill(0,0,255),ellipse(width/2,height/2,32,32)}function generate_balls(){for(let e=0;e<=999;e++){ballsx[e]=random(-8e3,8e3),ballsy[e]=random(-1600,2400);let l=round(random(14));balltypes[e]=4==l?2:5==l?3:6==l?4:1}}function draw_all_balls(){strokeWeight(2),stroke(255);for(let e=0;e<=999;e++)1==balltypes[e]?fill(0,255,0):2==balltypes[e]?fill(255,0,0):3==balltypes[e]?fill(255,255,0):4==balltypes[e]&&fill(255,0,255),ellipse(ballsx[e]-player_pos.x+width/2,ballsy[e]-player_pos.y+height/2,32,32)}function vel_effect(){player_pos.x+=player_vel.x,player_pos.y+=player_vel.y}function collisions(){for(let e=0;e<=999;e++){let l=player_pos.x,a=player_pos.y,s=ballsx[e],r=ballsy[e];dist(l,a,s,r)<32&&(player_vel.mult(-.4),1==balltypes[e]?(ballsx[e]=-3e3,ballsy[e]=-3e3,score++):2==balltypes[e]?reset():3==balltypes[e]?(ballsx[e]=-3e3,ballsy[e]=-3e3,score+=10):4==balltypes[e]&&(ballsx[e]=-3e3,ballsy[e]=-3e3,score+=3,player_vel.x=random(-25,25),player_vel.y=random(-25,25))),(a>2e3||a<-3e3||l<-8e3||l>8e3)&&(player_pos.y=0,player_vel.x=10,player_vel.y=-10)}}function reset(){player_pos.x=0,player_pos.y=0,player_vel.x=10,player_vel.y=-10,score=0}function gravity(){player_vel.y+=.1,player_vel.x*=.999}function test_text(){fill(255),textSize(25),text("score: "+score,25,25)}function mousePressed(){mouseIsPressed&&(player_vel.x+=(mouseX-pmouseX)/16,player_vel.y+=(mouseY-pmouseY)/16,strokeWeight(25),stroke(15*player_vel.x,15*player_vel.y,255),fill(0,255,0),line(mouseX,mouseY,pmouseX,pmouseY))}function draw(){background(0),test_text(),draw_player(),gravity(),vel_effect(),draw_all_balls(),mousePressed(),collisions()}